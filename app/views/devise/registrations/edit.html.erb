<% content_for :pageTitle do %><%= t('layout.title.userProfileEdit', user:@user.full_name) %><% end %>
<%= render '/layouts/smallheader' -%>
<%= devise_error_messages! %>

<%= bootstrap_form_for(resource, :as => resource_name,
      :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>

<div id="user-edit-view">
  <section>
    <div class="typeHeader">
      Profil bearbeiten
    </div>
    <h1><%= @user.full_name %></h1>
  </section>

  <div class="row row-sm-eq-height">
    <div class="col-sm-6">
      <section class="filling">
        <h2>Daten</h2>
        <%= f.text_field :username %>
        <%= f.text_field :first_name %>
        <%= f.text_field :last_name %>
        <%= f.text_field :email %>
        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
        <% end %>
      </section>
    </div>
    <div class="col-sm-6">
      <section class="filling">
        <h2>Passwort ändern</h2>
        <p><i>Leer lassen, wenn du dein aktuelles Passwort beibehalten möchtest.</i></p>
        <%= f.password_field :password, placeholder: 'Neues Passwort' %>
        <%= f.password_field :password_confirmation, placeholder: 'Passwort bestätigen' %>
      </section>
    </div>
  </div>

  <div class="row row-sm-eq-height">
    <div class="col-sm-6">
      <section class="filling">
        <i>Gib dein aktuelles Passwort ein um die Änderungen zu bestätigen</i>
        <br />
        <%= f.password_field :current_password, placeholder: 'Aktuelles Passwort' %>
        <%= f.submit t('general.action.save') %>
        <%= link_to t('general.action.cancel'),
              user_path(@user), class:'btn btn-default' %>
      </section>
    </div>
    <div class="col-sm-6">
      <section class="filling">

        <%= link_to t('user.action.deleteAccount'), registration_path(resource_name),
                    :data => { :confirm => t('user.message.confirmDelete') },
                    :method => :delete, class:'btn btn-default btn-wide' %>
      </section>
    </div>
  </div>
</div>

<% end %>