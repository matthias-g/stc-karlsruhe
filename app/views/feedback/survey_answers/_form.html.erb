<%= bootstrap_form_for(@survey_answer) do |f| %>

<% if @survey_answer.errors.any? %>
  <section id="error_explanation">
    <h2><%= t('feedback.message.errorList') %></h2>
    <ul>
      <% @survey_answer.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
      <% end %>
    </ul>
  </section>
<% end %>

<section>
  <div class="typeHeader">
    &nbsp;<%= Feedback::SurveyAnswer.model_name.human %>&nbsp;
  </div>
  <h1><%= @survey.title %></h1>
</section>

<%= f.hidden_field :survey_id, value: @survey.id %>

<section>
  <% @question_index = 0 %>
  <%= f.fields_for :answers do |q| %>
    <% @question_form = q %>
    <% @question = @survey.questions[@question_index] %>
    <%= q.hidden_field :question_id %>
    <%= render :partial => (@question.type || 'text') + '_question' %>
    <% @question_index += 1 %>
  <% end %>
</section>

<section>
  <%= f.submit %>
</section>

<% end %>
