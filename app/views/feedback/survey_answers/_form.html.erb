<%= bootstrap_form_for(@survey_answer) do |f| %>

<% if @survey_answer.errors.any? %>
  <section id="error_explanation">
    <h2><%= t('feedback.message.errorList') %></h2>
    <ul>
      <% @survey_answer.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
      <% end %>
    </ul>
  </section>
<% end %>

<section>
  <div class="typeHeader">
    &nbsp;<%= Feedback::SurveyAnswer.model_name.human %>&nbsp;
  </div>
  <h1><%= @survey_answer.survey.title %></h1>
</section>

<%= f.hidden_field :survey_id %>

<section>
  <%= f.fields_for :answers do |answer_fields| %>
    <% @question_form = answer_fields %>
    <% answer = @survey_answer.answers[answer_fields.index] %>
    <% @question = answer.question %>
    <% @question_label = (answer_fields.index + 1).to_s + '.) ' + @question.text %>
    <%= answer_fields.hidden_field :question_id %>
    <%= render partial: (@question.question_type || 'text') + '_question' %>
  <% end %>
</section>

<section>
  <%= f.submit %>
</section>

<% end %>
