<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#28B7AF" />
  <title><%= (content_for?(:pageTitle) ? (yield(:pageTitle).strip + ' - ') : '') + t('layout.pageTitle') %></title>
  <%= favicon_link_tag 'favicon.ico' %>
  <%= csrf_meta_tags %>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': true %>
  <%= javascript_include_tag 'editing', 'data-turbolinks-track': true if privileged_user? %>
  <%= javascript_include_tag 'https://maps.googleapis.com/maps/api/js?v=3.exp' %>
  <%= javascript_include_tag 'https://www.google.com/recaptcha/api.js', async: true, defer: true %>
  <meta property="og:title" content="<%= yield(:pageTitle).strip.presence || t('layout.pageTitle') %>" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="<%= url_for(only_path: false, overwrite_params: nil, protocol: :https) %>" />
  <meta property="og:locale" content="de_DE" />
  <meta property="og:site_name" content="Serve the City Karlsruhe" />
  <meta property="fb:app_id" content="1632977830272942" />
  <%= yield(:appendToHeader) %>
</head>
<body>

<div id="navigation" class="navbar navbar-default navbar-fixed-top no-print">
  <button type="button" class="navbar-toggle"
      data-toggle="collapse" data-target="#navbar-collapse">
    <span class="sr-only">Navigation</span>
    <span class="glyphicon glyphicon-menu-hamburger"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar-collapse">
    <%= render '/layouts/navbar' -%>
  </div>
</div>

<div id="messages">
  <%= render 'layouts/messages' %>
</div>

<% if false %>
<div id="messages">
  <%# devise errors %>
  <% if not resource.errors.empty? %>
      <% resource.errors.full_messages.each do |error| %>
          <div class="alert-devise"><%= error %></div>
      <% end %>
  <% end %>
  <%# other errors/notifications %>
  <% flash.each do |key, value| %>
      <div class="alert-<%= key %>"><%= value %></div>
  <% end %>
</div>
<% end %>

<% if !content_for?(:pageHeader) %>
  <%= render '/layouts/smallheader' -%>
<% end %>
<%= yield(:pageHeader) %>

<div id="container" class="container-fluid">
  <%= yield %>
  <div class="clearfix"></div>
</div>

<footer>
  <%= render '/layouts/footer' -%>
</footer>
</body>
</html>
